name: Update GitHub Stats

on:
  schedule:
    - cron: "0 */6 * * *" # Roda a cada 6 horas
  workflow_dispatch: # Permite execu√ß√£o manual

jobs:
  update_stats:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      # Nota: Esta action n√£o gera arquivos diretamente no reposit√≥rio.
      # Ela gera SVGs que s√£o embutidos no README via URL.
      # O objetivo deste workflow √© garantir que, se houver alguma l√≥gica
      # de atualiza√ß√£o ou cache no lado do servidor da Vercel (onde as stats s√£o hospedadas),
      # for√ßamos uma "atualiza√ß√£o" simb√≥lica ou simplesmente confirmamos que o README
      # est√° usando as URLs corretas.
      #
      # Para as stats que voc√™ j√° tem (github-readme-stats.vercel.app),
      # a atualiza√ß√£o √© feita pela pr√≥pria Vercel app.
      # Este workflow serve mais como um placeholder se quisermos mudar para uma action
      # que gere os SVGs e os commite no repo, ou para adicionar outras actions
      # que atualizem se√ß√µes espec√≠ficas do README.

      # Exemplo: Se quis√©ssemos usar uma action que GERA e COMMITA o SVG das stats
      # - name: Update GitHub Stats
      #   uses: your-chosen-action-for-stats@vX
      #   with:
      #     GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      #     # Outras op√ß√µes da action

      - name: Commit and Push Changes (if any future action modifies files)
        run: |
          git config --global user.name "github-actions[bot]"
          git config --global user.email "41898282+github-actions[bot]@users.noreply.github.com"
          # Adicionar quaisquer arquivos que possam ser gerados por actions futuras
          # git add path/to/generated/stats.svg
          if ! git diff --staged --quiet; then
            git commit -m "üìä Chore: Update GitHub stats section in README"
            git push
          else
            echo "No direct file changes to commit for GitHub stats by this workflow."
          fi
